# This is a managed file generated by Projen. To edit, change the project template.
name: Tests

on:
  push:
    branches-ignore:
      - 'dependabot/**'

jobs:
  tests:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - uses: actions/setup-python@v5
        with:
          python-version: 3.11
          architecture: x64

      - run: pip install --upgrade pip poetry poetry-plugin-export setuptools wheel

      - run: poetry install

      - run: make test
        env:
          ENVIRONMENT: "LOCAL_TESTING"

  licences:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - uses: actions/setup-python@v5
        with:
          python-version: 3.11
          architecture: x64

      - run: pip install --upgrade pip poetry poetry-plugin-export setuptools wheel

      - run: poetry install

      - run: make liccheck
        env:
          ENVIRONMENT: "LOCAL_TESTING"